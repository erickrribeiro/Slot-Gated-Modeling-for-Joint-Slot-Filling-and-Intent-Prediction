<svg id="SvgjsSvg1006" width="1682.71875" height="1973.875" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1014" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1015" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1034" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1035" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1066" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1067" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1102" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1103" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1110" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1111" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1134" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1135" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1158" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1159" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1174" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1175" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1198" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1199" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1214" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1215" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1230" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1231" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1242" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1243" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1254" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1255" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1258" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1259" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1270" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1271" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1282" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1283" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1286" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1287" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1290" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1291" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1314" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1315" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1326" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1327" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1334" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1335" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1342" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1343" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1362" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1363" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1370" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1371" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1374" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1375" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1398" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1399" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1410" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1411" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1414" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1415" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1450" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1451" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1458" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1459" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1462" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1463" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1482" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1483" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1486" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1487" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1490" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1491" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1522" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1523" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1530" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1531" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1550" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1551" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1554" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1555" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1574" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1575" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1602" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1603" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1610" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1611" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1619" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1620" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1628" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1629" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1632" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1633" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1648" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1649" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1652" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1653" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1657" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1658" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1662" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1663" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1666" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1667" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1686" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1687" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1690" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1691" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1706" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1707" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1722" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1723" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1726" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1727" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1738" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1739" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1743" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1744" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1748" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1749" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1752" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1753" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1768" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1769" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1772" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1773" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1784" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1785" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1792" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1793" d="M0,2 L14,6 L0,11 L0,2" fill="#0000ff" stroke="#0000ff" stroke-width="2"></path></marker><marker id="SvgjsMarker1808" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1809" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1820" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1821" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(111,25)"><path id="SvgjsPath1009" d="M 0 0L 99 0L 99 30L 0 30Z" stroke="#323232" stroke-width="2" fill="#ff0000"></path><g id="SvgjsG1010"><foreignObject id="SvgjsForeignObject1011" width="79" height="16" x="10" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 79px; word-break: break-word; border: 0px;">input_data </div></foreignObject></g></g><g id="SvgjsG1012"><path id="SvgjsPath1013" d="M160.5 55L160.5 98.5L160.5 98.5L160.5 142" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1014)"></path></g><g id="SvgjsG1016" transform="translate(110.5,142)"><path id="SvgjsPath1017" d="M 0 0L 100 0L 100 34L 0 34Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1018"><foreignObject id="SvgjsForeignObject1019" width="80" height="16" x="10" style="overflow:visible;" y="9"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 80px; word-break: break-word; border: 0px;">inputs</div></foreignObject></g></g><g id="SvgjsG1020" transform="translate(210.5,25.5)"><path id="SvgjsPath1021" d="M 0 0L 238 0L 238 29L 0 29Z" stroke="none" fill="none"></path><g id="SvgjsG1022"><foreignObject id="SvgjsForeignObject1023" width="238" height="19" x="0" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 238px; word-break: break-word; border: 0px;">[batch_size, sequnce_length]</div></foreignObject></g></g><g id="SvgjsG1024" transform="translate(183,105)"><path id="SvgjsPath1025" d="M 0 0L 343 0L 343 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1026"><foreignObject id="SvgjsForeignObject1027" width="323" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 323px; word-break: break-word; border: 0px;">tf.nn.embedding_lookup(embedding, input_data)</div></foreignObject></g></g><g id="SvgjsG1028" transform="translate(183,71)"><path id="SvgjsPath1029" d="M 0 0L 428 0L 428 25L 0 25Z" stroke="#323232" stroke-width="2" fill="#cce5ff"></path><g id="SvgjsG1030"><foreignObject id="SvgjsForeignObject1031" width="408" height="16" x="10" style="overflow:visible;" y="4.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 408px; word-break: break-word; border: 0px;">embedding = tf.get_variable('embedding', [input_size, layer_size])</div></foreignObject></g></g><g id="SvgjsG1032"><path id="SvgjsPath1033" d="M160.5 176L160.5 247L160.5 247L160.5 318" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1034)"></path></g><g id="SvgjsG1036" transform="translate(72.25,318)"><path id="SvgjsPath1037" d="M 0 0L 176.5 0L 176.5 36L 0 36Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1038"><foreignObject id="SvgjsForeignObject1039" width="156.5" height="16" x="10" style="overflow:visible;" y="10"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 156.5px; word-break: break-word; border: 0px;">state_outputs, final_state</div></foreignObject></g></g><g id="SvgjsG1040" transform="translate(225,145.5)"><path id="SvgjsPath1041" d="M 0 0L 291 0L 291 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1042"><foreignObject id="SvgjsForeignObject1043" width="291" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 291px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, layer_size]</div></foreignObject></g></g><g id="SvgjsG1044" transform="translate(187,182)"><path id="SvgjsPath1045" d="M 0 0L 329 0L 329 43L 0 43Z" stroke="#323232" stroke-width="2" fill="#cce5ff"></path><g id="SvgjsG1046"><foreignObject id="SvgjsForeignObject1047" width="309" height="32" x="10" style="overflow:visible;" y="5.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 309px; word-break: break-word; border: 0px;">cell_fw = tf.contrib.rnn.BasicLSTMCell(layer_size)<div></div><div></div>cell_bw = tf.contrib.rnn.BasicLSTMCell(layer_size)</div></foreignObject></g></g><g id="SvgjsG1048" transform="translate(187,237)"><path id="SvgjsPath1049" d="M 0 0L 502 0L 502 24L 0 24Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1050"><foreignObject id="SvgjsForeignObject1051" width="482" height="16" x="10" style="overflow:visible;" y="4"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 482px; word-break: break-word; border: 0px;">sequence_length = tf.placeholder(tf.int32, [None], name="sequence_length")</div></foreignObject></g></g><g id="SvgjsG1052" transform="translate(187,280.5)"><path id="SvgjsPath1053" d="M 0 0L 698 0L 698 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1054"><foreignObject id="SvgjsForeignObject1055" width="678" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 678px; word-break: break-word; border: 0px;">tf.nn.bidirectional_dynamic_rnn(cell_fw, cell_bw, inputs, sequence_length=sequence_length, dtype=tf.float32)</div></foreignObject></g></g><g id="SvgjsG1056" transform="translate(252,321.625)"><path id="SvgjsPath1057" d="M 0 0L 610 0L 610 28.75L 0 28.75Z" stroke="none" fill="none"></path><g id="SvgjsG1058"><foreignObject id="SvgjsForeignObject1059" width="610" height="19" x="0" style="overflow:visible;" y="4.875"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 610px; word-break: break-word; border: 0px;">([batch_size, sequnce_length, layer_size],   [batch_size, sequnce_length, layer_size])</div></foreignObject></g></g><g id="SvgjsG1060" transform="translate(257,350.375)"><path id="SvgjsPath1061" d="M 0 0L 357 0L 357 20L 0 20Z" stroke="none" fill="none"></path><g id="SvgjsG1062"><foreignObject id="SvgjsForeignObject1063" width="357" height="19" x="0" style="overflow:visible;" y="0.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 357px; word-break: break-word; border: 0px;">([batch_size, layer_size],   [batch_size, layer_size])</div></foreignObject></g></g><g id="SvgjsG1064"><path id="SvgjsPath1065" d="M160.5 354L160.5 415.6875L220 415.6875L220 477.375" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1066)"></path></g><g id="SvgjsG1068" transform="translate(168,477.375)"><path id="SvgjsPath1069" d="M 0 0L 104 0L 104 29.75L 0 29.75Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1070"><foreignObject id="SvgjsForeignObject1071" width="84" height="16" x="10" style="overflow:visible;" y="6.875"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 84px; word-break: break-word; border: 0px;">final_state</div></foreignObject></g></g><g id="SvgjsG1072" transform="translate(267,381.375)"><path id="SvgjsPath1073" d="M 0 0L 512 0L 512 25.625L 0 25.625Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1074"><foreignObject id="SvgjsForeignObject1075" width="492" height="16" x="10" style="overflow:visible;" y="4.8125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 492px; word-break: break-word; border: 0px;">tf.concat([final_state[0][0], final_state[0][1], final_state[1][0], final_state[1][1]], 1)</div></foreignObject></g></g><g id="SvgjsG1076" transform="translate(266,418.375)"><path id="SvgjsPath1077" d="M 0 0L 318 0L 318 28.625L 0 28.625Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1078"><foreignObject id="SvgjsForeignObject1079" width="298" height="16" x="10" style="overflow:visible;" y="6.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 298px; word-break: break-word; border: 0px;">tf.concat([state_outputs[0], state_outputs[1]], 2)</div></foreignObject></g></g><g id="SvgjsG1080" transform="translate(266.5,485)"><path id="SvgjsPath1081" d="M 0 0L 217.25 0L 217.25 29L 0 29Z" stroke="none" fill="none"></path><g id="SvgjsG1082"><foreignObject id="SvgjsForeignObject1083" width="217.25" height="19" x="0" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 217.25px; word-break: break-word; border: 0px;">[batch_size, 4*layer_size]</div></foreignObject></g></g><g id="SvgjsG1084" transform="translate(269,461.25)"><path id="SvgjsPath1085" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1086"><foreignObject id="SvgjsForeignObject1087" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1088" transform="translate(110.5,611)"><path id="SvgjsPath1089" d="M 0 0L 100 0L 100 27L 0 27Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1090"><foreignObject id="SvgjsForeignObject1091" width="80" height="16" x="10" style="overflow:visible;" y="5.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 80px; word-break: break-word; border: 0px;">slot_inputs</div></foreignObject></g></g><g id="SvgjsG1092" transform="translate(221,590.6875)"><path id="SvgjsPath1093" d="M 0 0L 204 0L 204 25.625L 0 25.625Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1094"><foreignObject id="SvgjsForeignObject1095" width="184" height="16" x="10" style="overflow:visible;" y="4.8125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 184px; word-break: break-word; border: 0px;">slot_inputs = state_outputs</div></foreignObject></g></g><g id="SvgjsG1096" transform="translate(198.5,623.75)"><path id="SvgjsPath1097" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1098"><foreignObject id="SvgjsForeignObject1099" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1100"><path id="SvgjsPath1101" d="M160.5 638L160.5 680L90.5 680L90.5 722" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1102)"></path></g><g id="SvgjsG1104" transform="translate(48,722)"><path id="SvgjsPath1105" d="M 0 0L 85 0L 85 32L 0 32Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1106"><foreignObject id="SvgjsForeignObject1107" width="65" height="16" x="10" style="overflow:visible;" y="8"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 65px; word-break: break-word; border: 0px;">hidden</div></foreignObject></g></g><g id="SvgjsG1108"><path id="SvgjsPath1109" d="M160.5 638L160.5 680L230 680L230 722" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1110)"></path></g><g id="SvgjsG1112" transform="translate(178,722)"><path id="SvgjsPath1113" d="M 0 0L 104 0L 104 32L 0 32Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1114"><foreignObject id="SvgjsForeignObject1115" width="84" height="16" x="10" style="overflow:visible;" y="8"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 84px; word-break: break-word; border: 0px;">hidden_conv</div></foreignObject></g></g><g id="SvgjsG1116" transform="translate(295.875,684.375)"><path id="SvgjsPath1117" d="M 0 0L 318.125 0L 318.125 20.625L 0 20.625Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1118"><foreignObject id="SvgjsForeignObject1119" width="298.125" height="16" x="10" style="overflow:visible;" y="2.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 298.125px; word-break: break-word; border: 0px;">hidden = tf.expand_dims(state_outputs, 1)</div></foreignObject></g></g><g id="SvgjsG1120" transform="translate(295.875,722)"><path id="SvgjsPath1121" d="M 0 0L 322.5 0L 322.5 23L 0 23Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1122"><foreignObject id="SvgjsForeignObject1123" width="302.5" height="16" x="10" style="overflow:visible;" y="3.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 302.5px; word-break: break-word; border: 0px;">hidden_conv = tf.expand_dims(state_outputs, 2)</div></foreignObject></g></g><g id="SvgjsG1124" transform="translate(274,760.25)"><path id="SvgjsPath1125" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1126"><foreignObject id="SvgjsForeignObject1127" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, 1, sequnce_length, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1128" transform="translate(274,784.75)"><path id="SvgjsPath1129" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1130"><foreignObject id="SvgjsForeignObject1131" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 1, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1132"><path id="SvgjsPath1133" d="M230 754L230 824.5L230 824.5L230 895" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1134)"></path></g><g id="SvgjsG1136" transform="translate(168,895)"><path id="SvgjsPath1137" d="M 0 0L 124 0L 124 35L 0 35Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1138"><foreignObject id="SvgjsForeignObject1139" width="104" height="16" x="10" style="overflow:visible;" y="9.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 104px; word-break: break-word; border: 0px;"> hidden_features</div></foreignObject></g></g><g id="SvgjsG1140" transform="translate(252,817)"><path id="SvgjsPath1141" d="M 0 0L 354 0L 354 21L 0 21Z" stroke="#323232" stroke-width="2" fill="#cce5ff"></path><g id="SvgjsG1142"><foreignObject id="SvgjsForeignObject1143" width="334" height="16" x="10" style="overflow:visible;" y="2.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 334px; word-break: break-word; border: 0px;">k = tf.get_variable("AttnW", [1, 1, attn_size, attn_size])</div></foreignObject></g></g><g id="SvgjsG1144" transform="translate(252,852.375)"><path id="SvgjsPath1145" d="M 0 0L 324 0L 324 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1146"><foreignObject id="SvgjsForeignObject1147" width="304" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 304px; word-break: break-word; border: 0px;">tf.nn.conv2d(hidden_conv, k, [1, 1, 1, 1], "SAME")</div></foreignObject></g></g><g id="SvgjsG1148" transform="translate(591,602.625)"><path id="SvgjsPath1149" d="M 0 0L 299 0L 299 60.25L 0 60.25Z" stroke="#323232" stroke-width="2" fill="#cce5ff"></path><g id="SvgjsG1150"><foreignObject id="SvgjsForeignObject1151" width="279" height="48" x="10" style="overflow:visible;" y="6.125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 279px; word-break: break-word; border: 0px;"><div>state_shape = state_outputs.get_shape()<div></div></div>attn_size = state_shape[2].value<div>origin_shape = tf.shape(state_outputs)<div></div></div></div></foreignObject></g></g><g id="SvgjsG1152" transform="translate(288.625,901.75)"><path id="SvgjsPath1153" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1154"><foreignObject id="SvgjsForeignObject1155" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 1, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1156"><path id="SvgjsPath1157" d="M230 930L230 949.5L230 949.5L230 969" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1158)"></path></g><g id="SvgjsG1160" transform="translate(165,969)"><path id="SvgjsPath1161" d="M 0 0L 130 0L 130 30L 0 30Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1162"><foreignObject id="SvgjsForeignObject1163" width="110" height="16" x="10" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 110px; word-break: break-word; border: 0px;"> hidden_features</div></foreignObject></g></g><g id="SvgjsG1164" transform="translate(257,941.375)"><path id="SvgjsPath1165" d="M 0 0L 324 0L 324 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1166"><foreignObject id="SvgjsForeignObject1167" width="304" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 304px; word-break: break-word; border: 0px;">tf.reshape(hidden_features, origin_shape)</div></foreignObject></g></g><g id="SvgjsG1168" transform="translate(165,1032)"><path id="SvgjsPath1169" d="M 0 0L 130 0L 130 30L 0 30Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1170"><foreignObject id="SvgjsForeignObject1171" width="110" height="16" x="10" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 110px; word-break: break-word; border: 0px;"> hidden_features</div></foreignObject></g></g><g id="SvgjsG1172"><path id="SvgjsPath1173" d="M230 999L230 1015.5L230 1015.5L230 1032" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1174)"></path></g><g id="SvgjsG1176" transform="translate(260,1005.375)"><path id="SvgjsPath1177" d="M 0 0L 324 0L 324 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1178"><foreignObject id="SvgjsForeignObject1179" width="304" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 304px; word-break: break-word; border: 0px;">tf.expand_dims(hidden_features, 1)</div></foreignObject></g></g><g id="SvgjsG1180" transform="translate(281.375,973.25)"><path id="SvgjsPath1181" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1182"><foreignObject id="SvgjsForeignObject1183" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1184" transform="translate(288.625,1048.5)"><path id="SvgjsPath1185" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1186"><foreignObject id="SvgjsForeignObject1187" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, 1, sequnce_length, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1188" transform="translate(516,1217.375)"><path id="SvgjsPath1189" d="M 0 0L 284.875 0L 284.875 21.625L 0 21.625Z" stroke="#323232" stroke-width="2" fill="#cce5ff"></path><g id="SvgjsG1190"><foreignObject id="SvgjsForeignObject1191" width="264.875" height="16" x="10" style="overflow:visible;" y="2.8125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 264.875px; word-break: break-word; border: 0px;">v = tf.get_variable("AttnV", [attn_size])</div></foreignObject></g></g><g id="SvgjsG1192" transform="translate(516,1184.875)"><path id="SvgjsPath1193" d="M 0 0L 284.875 0L 284.875 21L 0 21Z" stroke="#323232" stroke-width="2" fill="#cce5ff"></path><g id="SvgjsG1194"><foreignObject id="SvgjsForeignObject1195" width="264.875" height="16" x="10" style="overflow:visible;" y="2.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 264.875px; word-break: break-word; border: 0px;">slot_inputs_shape = tf.shape(slot_inputs)</div></foreignObject></g></g><g id="SvgjsG1196"><path id="SvgjsPath1197" d="M160.5 638L160.5 890L160.5 890L160.5 1142" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1198)"></path></g><g id="SvgjsG1200" transform="translate(110.5,1142)"><path id="SvgjsPath1201" d="M 0 0L 100 0L 100 27L 0 27Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1202"><foreignObject id="SvgjsForeignObject1203" width="80" height="16" x="10" style="overflow:visible;" y="5.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 80px; word-break: break-word; border: 0px;">slot_inputs</div></foreignObject></g></g><g id="SvgjsG1204" transform="translate(174,1110.375)"><path id="SvgjsPath1205" d="M 0 0L 251 0L 251 21.625L 0 21.625Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1206"><foreignObject id="SvgjsForeignObject1207" width="231" height="16" x="10" style="overflow:visible;" y="2.8125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 231px; word-break: break-word; border: 0px;">tf.reshape(slot_inputs, [-1, attn_size])</div></foreignObject></g></g><g id="SvgjsG1208" transform="translate(202,1144.75)"><path id="SvgjsPath1209" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1210"><foreignObject id="SvgjsForeignObject1211" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size * sequnce_length, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1212"><path id="SvgjsPath1213" d="M160.5 1169L160.5 1200.5L160.5 1200.5L160.5 1232" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1214)"></path></g><g id="SvgjsG1216" transform="translate(110.5,1232)"><path id="SvgjsPath1217" d="M 0 0L 100 0L 100 24L 0 24Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1218"><foreignObject id="SvgjsForeignObject1219" width="80" height="16" x="10" style="overflow:visible;" y="4"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 80px; word-break: break-word; border: 0px;">y</div></foreignObject></g></g><g id="SvgjsG1220" transform="translate(178,1185.375)"><path id="SvgjsPath1221" d="M 0 0L 316 0L 316 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1222"><foreignObject id="SvgjsForeignObject1223" width="296" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 296px; word-break: break-word; border: 0px;">rnn_cell_impl._linear(slot_inputs, attn_size, True)</div></foreignObject></g></g><g id="SvgjsG1224" transform="translate(198.5,1234.5)"><path id="SvgjsPath1225" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1226"><foreignObject id="SvgjsForeignObject1227" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size * sequnce_length, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1228"><path id="SvgjsPath1229" d="M160.5 1256L160.5 1279.5L160.5 1279.5L160.5 1303" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1230)"></path></g><g id="SvgjsG1232" transform="translate(110.5,1303)"><path id="SvgjsPath1233" d="M 0 0L 100 0L 100 24L 0 24Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1234"><foreignObject id="SvgjsForeignObject1235" width="80" height="16" x="10" style="overflow:visible;" y="4"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 80px; word-break: break-word; border: 0px;">y</div></foreignObject></g></g><g id="SvgjsG1236" transform="translate(110.5,1372)"><path id="SvgjsPath1237" d="M 0 0L 100 0L 100 24L 0 24Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1238"><foreignObject id="SvgjsForeignObject1239" width="80" height="16" x="10" style="overflow:visible;" y="4"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 80px; word-break: break-word; border: 0px;">y</div></foreignObject></g></g><g id="SvgjsG1240"><path id="SvgjsPath1241" d="M160.5 1327L160.5 1349.5L160.5 1349.5L160.5 1372" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1242)"></path></g><g id="SvgjsG1244" transform="translate(178,1272.375)"><path id="SvgjsPath1245" d="M 0 0L 216 0L 216 22.625L 0 22.625Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1246"><foreignObject id="SvgjsForeignObject1247" width="196" height="16" x="10" style="overflow:visible;" y="3.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 196px; word-break: break-word; border: 0px;">tf.reshape(y, slot_inputs_shape)</div></foreignObject></g></g><g id="SvgjsG1248" transform="translate(178,1339.375)"><path id="SvgjsPath1249" d="M 0 0L 147 0L 147 21.625L 0 21.625Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1250"><foreignObject id="SvgjsForeignObject1251" width="127" height="16" x="10" style="overflow:visible;" y="2.8125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 127px; word-break: break-word; border: 0px;">tf.expand_dims(y, 2)</div></foreignObject></g></g><g id="SvgjsG1252"><path id="SvgjsPath1253" d="M160.5 638L160.5 1085.4375L658.4375 1085.4375L658.4375 1184.875" stroke-dasharray="3,3" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1254)"></path></g><g id="SvgjsG1256"><path id="SvgjsPath1257" d="M108 506.5625L108 576.59375L740.5 576.59375L740.5 602.625" stroke-dasharray="3,3" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1258)"></path></g><g id="SvgjsG1260" transform="translate(198.5,1304.25)"><path id="SvgjsPath1261" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1262"><foreignObject id="SvgjsForeignObject1263" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1264" transform="translate(206.625,1373.25)"><path id="SvgjsPath1265" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1266"><foreignObject id="SvgjsForeignObject1267" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 1, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1268"><path id="SvgjsPath1269" d="M160.5 1396L160.5 1416L160.5 1416L160.5 1436" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1270)"></path></g><g id="SvgjsG1272" transform="translate(110.5,1436)"><path id="SvgjsPath1273" d="M 0 0L 100 0L 100 24L 0 24Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1274"><foreignObject id="SvgjsForeignObject1275" width="80" height="16" x="10" style="overflow:visible;" y="4"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 80px; word-break: break-word; border: 0px;">s</div></foreignObject></g></g><g id="SvgjsG1276" transform="translate(110.5,1514.75)"><path id="SvgjsPath1277" d="M 0 0L 100 0L 100 24L 0 24Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1278"><foreignObject id="SvgjsForeignObject1279" width="80" height="16" x="10" style="overflow:visible;" y="4"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 80px; word-break: break-word; border: 0px;">a</div></foreignObject></g></g><g id="SvgjsG1280"><path id="SvgjsPath1281" d="M160.5 1460L160.5 1487.375L160.5 1487.375L160.5 1514.75" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1282)"></path></g><g id="SvgjsG1284"><path id="SvgjsPath1285" d="M295 1047L828 1047L828 1448L210.5 1448" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1286)"></path></g><g id="SvgjsG1288"><path id="SvgjsPath1289" d="M658.4375 1239L658.4375 1448L210.5 1448" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1290)"></path></g><g id="SvgjsG1292" transform="translate(178,1407.375)"><path id="SvgjsPath1293" d="M 0 0L 333.25 0L 333.25 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1294"><foreignObject id="SvgjsForeignObject1295" width="313.25" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 313.25px; word-break: break-word; border: 0px;">tf.reduce_sum(v * tf.tanh(hidden_features + y), [3])</div></foreignObject></g></g><g id="SvgjsG1296" transform="translate(210.5,1460)"><path id="SvgjsPath1297" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1298"><foreignObject id="SvgjsForeignObject1299" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, sequnce_length]</div></foreignObject></g></g><g id="SvgjsG1300" transform="translate(184,1484.5)"><path id="SvgjsPath1301" d="M 0 0L 120 0L 120 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1302"><foreignObject id="SvgjsForeignObject1303" width="100" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 100px; word-break: break-word; border: 0px;">tf.nn.softmax(s)</div></foreignObject></g></g><g id="SvgjsG1304" transform="translate(210.5,1516)"><path id="SvgjsPath1305" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1306"><foreignObject id="SvgjsForeignObject1307" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, sequnce_length]</div></foreignObject></g></g><g id="SvgjsG1308" transform="translate(110.5,1569.75)"><path id="SvgjsPath1309" d="M 0 0L 100 0L 100 24L 0 24Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1310"><foreignObject id="SvgjsForeignObject1311" width="80" height="16" x="10" style="overflow:visible;" y="4"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 80px; word-break: break-word; border: 0px;">a</div></foreignObject></g></g><g id="SvgjsG1312"><path id="SvgjsPath1313" d="M160.5 1538.75L160.5 1554.25L160.5 1554.25L160.5 1569.75" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1314)"></path></g><g id="SvgjsG1316" transform="translate(210.5,1571.75)"><path id="SvgjsPath1317" d="M 0 0L 355.5 0L 355.5 20L 0 20Z" stroke="none" fill="none"></path><g id="SvgjsG1318"><foreignObject id="SvgjsForeignObject1319" width="355.5" height="19" x="0" style="overflow:visible;" y="0.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 355.5px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, sequnce_length, 1]</div></foreignObject></g></g><g id="SvgjsG1320" transform="translate(110.5,1629.75)"><path id="SvgjsPath1321" d="M 0 0L 100 0L 100 24L 0 24Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1322"><foreignObject id="SvgjsForeignObject1323" width="80" height="16" x="10" style="overflow:visible;" y="4"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 80px; word-break: break-word; border: 0px;">slot_d</div></foreignObject></g></g><g id="SvgjsG1324"><path id="SvgjsPath1325" d="M160.5 1593.75L160.5 1611.75L160.5 1611.75L160.5 1629.75" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1326)"></path></g><g id="SvgjsG1328" transform="translate(178,1601.125)"><path id="SvgjsPath1329" d="M 0 0L 205 0L 205 22.625L 0 22.625Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1330"><foreignObject id="SvgjsForeignObject1331" width="185" height="16" x="10" style="overflow:visible;" y="3.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 185px; word-break: break-word; border: 0px;">tf.reduce_sum(a * hidden, [2])</div></foreignObject></g></g><g id="SvgjsG1332"><path id="SvgjsPath1333" d="M90.5 754L90.5 1641.75L110.5 1641.75" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1334)"></path></g><g id="SvgjsG1336" transform="translate(198.5,1631)"><path id="SvgjsPath1337" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1338"><foreignObject id="SvgjsForeignObject1339" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1340"><path id="SvgjsPath1341" d="M220 507.125L220 537.125L897 537.125L897 90.5L985 90.5" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1342)"></path></g><g id="SvgjsG1344" transform="translate(985,76.5)"><path id="SvgjsPath1345" d="M 0 0L 104 0L 104 28L 0 28Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1346"><foreignObject id="SvgjsForeignObject1347" width="84" height="16" x="10" style="overflow:visible;" y="6"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 84px; word-break: break-word; border: 0px;">intent_input</div></foreignObject></g></g><g id="SvgjsG1348" transform="translate(1097.125,45.375)"><path id="SvgjsPath1349" d="M 0 0L 181 0L 181 25.625L 0 25.625Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1350"><foreignObject id="SvgjsForeignObject1351" width="161" height="16" x="10" style="overflow:visible;" y="4.8125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 161px; word-break: break-word; border: 0px;">intent_input = final_state</div></foreignObject></g></g><g id="SvgjsG1352" transform="translate(1079,91)"><path id="SvgjsPath1353" d="M 0 0L 217.25 0L 217.25 29L 0 29Z" stroke="none" fill="none"></path><g id="SvgjsG1354"><foreignObject id="SvgjsForeignObject1355" width="217.25" height="19" x="0" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 217.25px; word-break: break-word; border: 0px;">[input_size, 4*layer_size]</div></foreignObject></g></g><g id="SvgjsG1356" transform="translate(985,154)"><path id="SvgjsPath1357" d="M 0 0L 104 0L 104 28L 0 28Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1358"><foreignObject id="SvgjsForeignObject1359" width="84" height="16" x="10" style="overflow:visible;" y="6"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 84px; word-break: break-word; border: 0px;">hidden</div></foreignObject></g></g><g id="SvgjsG1360"><path id="SvgjsPath1361" d="M160.5 354L160.5 415.96875L108 415.96875L108 477.9375" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1362)"></path></g><g id="SvgjsG1364" transform="translate(55,477.9375)"><path id="SvgjsPath1365" d="M 0 0L 106 0L 106 28.625L 0 28.625Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1366"><foreignObject id="SvgjsForeignObject1367" width="86" height="16" x="10" style="overflow:visible;" y="6.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 86px; word-break: break-word; border: 0px;">state_outputs</div></foreignObject></g></g><g id="SvgjsG1368"><path id="SvgjsPath1369" d="M108 506.5625L108 592.78125L160.5 592.78125L160.5 611" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1370)"></path></g><g id="SvgjsG1372"><path id="SvgjsPath1373" d="M108 506.5625L108 556.5625L918 556.5625L918 168L985 168" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1374)"></path></g><g id="SvgjsG1376" transform="translate(1099,125)"><path id="SvgjsPath1377" d="M 0 0L 284 0L 284 22.125L 0 22.125Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1378"><foreignObject id="SvgjsForeignObject1379" width="264" height="16" x="10" style="overflow:visible;" y="3.0625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 264px; word-break: break-word; border: 0px;">hidden = tf.expand_dims(state_outputs, 2)</div></foreignObject></g></g><g id="SvgjsG1380" transform="translate(1089,157.25)"><path id="SvgjsPath1381" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1382"><foreignObject id="SvgjsForeignObject1383" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 1, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1384" transform="translate(1089,193)"><path id="SvgjsPath1385" d="M 0 0L 354 0L 354 21L 0 21Z" stroke="#323232" stroke-width="2" fill="#cce5ff"></path><g id="SvgjsG1386"><foreignObject id="SvgjsForeignObject1387" width="334" height="16" x="10" style="overflow:visible;" y="2.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 334px; word-break: break-word; border: 0px;">k = tf.get_variable("AttnW", [1, 1, attn_size, attn_size])</div></foreignObject></g></g><g id="SvgjsG1388" transform="translate(975.5,252.5)"><path id="SvgjsPath1389" d="M 0 0L 123 0L 123 28L 0 28Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1390"><foreignObject id="SvgjsForeignObject1391" width="103" height="16" x="10" style="overflow:visible;" y="6"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 103px; word-break: break-word; border: 0px;">hidden_features</div></foreignObject></g></g><g id="SvgjsG1392" transform="translate(985,380.1875)"><path id="SvgjsPath1393" d="M 0 0L 104 0L 104 28L 0 28Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1394"><foreignObject id="SvgjsForeignObject1395" width="84" height="16" x="10" style="overflow:visible;" y="6"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 84px; word-break: break-word; border: 0px;">y</div></foreignObject></g></g><g id="SvgjsG1396"><path id="SvgjsPath1397" d="M1037 182L1037 217.25L1037 217.25L1037 252.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1398)"></path></g><g id="SvgjsG1400" transform="translate(1089,225)"><path id="SvgjsPath1401" d="M 0 0L 289 0L 289 22L 0 22Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1402"><foreignObject id="SvgjsForeignObject1403" width="269" height="16" x="10" style="overflow:visible;" y="3"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 269px; word-break: break-word; border: 0px;">tf.nn.conv2d(hidden, k, [1, 1, 1, 1], "SAME")</div></foreignObject></g></g><g id="SvgjsG1404" transform="translate(1102,477.9375)"><path id="SvgjsPath1405" d="M 0 0L 284.875 0L 284.875 21.625L 0 21.625Z" stroke="#323232" stroke-width="2" fill="#cce5ff"></path><g id="SvgjsG1406"><foreignObject id="SvgjsForeignObject1407" width="264.875" height="16" x="10" style="overflow:visible;" y="2.8125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 264.875px; word-break: break-word; border: 0px;">v = tf.get_variable("AttnV", [attn_size])</div></foreignObject></g></g><g id="SvgjsG1408"><path id="SvgjsPath1409" d="M1089 90.5L1497 90.5L1497 299.1875L1037 299.1875L1037 380.1875" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1410)"></path></g><g id="SvgjsG1412"><path id="SvgjsPath1413" d="M1037 408.1875L1037 426.65625L1038 426.65625L1038 445.125" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1414)"></path></g><g id="SvgjsG1416" transform="translate(987,445.125)"><path id="SvgjsPath1417" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1418"><foreignObject id="SvgjsForeignObject1419" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">y</div></foreignObject></g></g><g id="SvgjsG1420" transform="translate(1089,354)"><path id="SvgjsPath1421" d="M 0 0L 331 0L 331 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1422"><foreignObject id="SvgjsForeignObject1423" width="311" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 311px; word-break: break-word; border: 0px;">rnn_cell_impl._linear(intent_input, attn_size, True)</div></foreignObject></g></g><g id="SvgjsG1424" transform="translate(1089,315.5)"><path id="SvgjsPath1425" d="M 0 0L 220 0L 220 27L 0 27Z" stroke="#323232" stroke-width="2" fill="#cce5ff"></path><g id="SvgjsG1426"><foreignObject id="SvgjsForeignObject1427" width="200" height="16" x="10" style="overflow:visible;" y="5.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 200px; word-break: break-word; border: 0px;">attn_size = state_shape[2].value</div></foreignObject></g></g><g id="SvgjsG1428" transform="translate(1096.875,255.75)"><path id="SvgjsPath1429" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1430"><foreignObject id="SvgjsForeignObject1431" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 1, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1432" transform="translate(1079,379.6875)"><path id="SvgjsPath1433" d="M 0 0L 217.25 0L 217.25 29L 0 29Z" stroke="none" fill="none"></path><g id="SvgjsG1434"><foreignObject id="SvgjsForeignObject1435" width="217.25" height="19" x="0" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 217.25px; word-break: break-word; border: 0px;">[batch_size, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1436" transform="translate(1092.875,418.375)"><path id="SvgjsPath1437" d="M 0 0L 222.125 0L 222.125 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1438"><foreignObject id="SvgjsForeignObject1439" width="202.125" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 202.125px; word-break: break-word; border: 0px;">tf.reshape(y, [-1, 1, 1, attn_size])</div></foreignObject></g></g><g id="SvgjsG1440" transform="translate(1082,447.25)"><path id="SvgjsPath1441" d="M 0 0L 263 0L 263 19L 0 19Z" stroke="none" fill="none"></path><g id="SvgjsG1442"><foreignObject id="SvgjsForeignObject1443" width="263" height="19" x="0" style="overflow:visible;" y="0"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 263px; word-break: break-word; border: 0px;">[batch_size, 1， 1， 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1444" transform="translate(987,548.375)"><path id="SvgjsPath1445" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1446"><foreignObject id="SvgjsForeignObject1447" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">s</div></foreignObject></g></g><g id="SvgjsG1448"><path id="SvgjsPath1449" d="M1038 468.375L1038 508.375L1038 508.375L1038 548.375" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1450)"></path></g><g id="SvgjsG1452" transform="translate(1102,521)"><path id="SvgjsPath1453" d="M 0 0L 337 0L 337 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1454"><foreignObject id="SvgjsForeignObject1455" width="317" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 317px; word-break: break-word; border: 0px;">tf.reduce_sum(v*tf.tanh(hidden_features + y), [2,3])</div></foreignObject></g></g><g id="SvgjsG1456"><path id="SvgjsPath1457" d="M1244.4375 499.5625L1244.4375 510.96875L1038 510.96875L1038 548.375" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1458)"></path></g><g id="SvgjsG1460"><path id="SvgjsPath1461" d="M975.5 266.5L953.5 266.5L953.5 510.375L1038 510.375L1038 548.375" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1462)"></path></g><g id="SvgjsG1464" transform="translate(1079,549.25)"><path id="SvgjsPath1465" d="M 0 0L 249.875 0L 249.875 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1466"><foreignObject id="SvgjsForeignObject1467" width="249.875" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 249.875px; word-break: break-word; border: 0px;">[batch_size, sequnce_length]</div></foreignObject></g></g><g id="SvgjsG1468" transform="translate(987,608.375)"><path id="SvgjsPath1469" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1470"><foreignObject id="SvgjsForeignObject1471" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">a</div></foreignObject></g></g><g id="SvgjsG1472" transform="translate(986,662)"><path id="SvgjsPath1473" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1474"><foreignObject id="SvgjsForeignObject1475" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">a</div></foreignObject></g></g><g id="SvgjsG1476" transform="translate(986,721.875)"><path id="SvgjsPath1477" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1478"><foreignObject id="SvgjsForeignObject1479" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">a</div></foreignObject></g></g><g id="SvgjsG1480"><path id="SvgjsPath1481" d="M1038 571.625L1038 590L1038 590L1038 608.375" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1482)"></path></g><g id="SvgjsG1484"><path id="SvgjsPath1485" d="M1038 631.625L1038 646.8125L1037 646.8125L1037 662" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1486)"></path></g><g id="SvgjsG1488"><path id="SvgjsPath1489" d="M1037 685.25L1037 703.5625L1037 703.5625L1037 721.875" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1490)"></path></g><g id="SvgjsG1492" transform="translate(1102,583.375)"><path id="SvgjsPath1493" d="M 0 0L 118 0L 118 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1494"><foreignObject id="SvgjsForeignObject1495" width="98" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 98px; word-break: break-word; border: 0px;">tf.nn.softmax(s)</div></foreignObject></g></g><g id="SvgjsG1496" transform="translate(1079,609.25)"><path id="SvgjsPath1497" d="M 0 0L 249.875 0L 249.875 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1498"><foreignObject id="SvgjsForeignObject1499" width="249.875" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 249.875px; word-break: break-word; border: 0px;">[batch_size, sequnce_length]</div></foreignObject></g></g><g id="SvgjsG1500" transform="translate(1102,638)"><path id="SvgjsPath1501" d="M 0 0L 151 0L 151 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1502"><foreignObject id="SvgjsForeignObject1503" width="131" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 131px; word-break: break-word; border: 0px;">tf.expand_dims(a, -1)</div></foreignObject></g></g><g id="SvgjsG1504" transform="translate(1102,695)"><path id="SvgjsPath1505" d="M 0 0L 151 0L 151 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1506"><foreignObject id="SvgjsForeignObject1507" width="131" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 131px; word-break: break-word; border: 0px;">tf.expand_dims(a, -1)</div></foreignObject></g></g><g id="SvgjsG1508" transform="translate(1088,662.875)"><path id="SvgjsPath1509" d="M 0 0L 249.875 0L 249.875 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1510"><foreignObject id="SvgjsForeignObject1511" width="249.875" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 249.875px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 1]</div></foreignObject></g></g><g id="SvgjsG1512" transform="translate(1092.875,720.75)"><path id="SvgjsPath1513" d="M 0 0L 249.875 0L 249.875 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1514"><foreignObject id="SvgjsForeignObject1515" width="249.875" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 249.875px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 1, 1]</div></foreignObject></g></g><g id="SvgjsG1516" transform="translate(986,776.875)"><path id="SvgjsPath1517" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1518"><foreignObject id="SvgjsForeignObject1519" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">d</div></foreignObject></g></g><g id="SvgjsG1520"><path id="SvgjsPath1521" d="M1037 745.125L1037 761L1037 761L1037 776.875" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1522)"></path></g><g id="SvgjsG1524" transform="translate(1102,754)"><path id="SvgjsPath1525" d="M 0 0L 221.875 0L 221.875 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1526"><foreignObject id="SvgjsForeignObject1527" width="201.875" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 201.875px; word-break: break-word; border: 0px;">tf.reduce_sum(a * hidden, [1, 2])</div></foreignObject></g></g><g id="SvgjsG1528"><path id="SvgjsPath1529" d="M1037 182L1037 212L935 212L935 788.5L986 788.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1530)"></path></g><g id="SvgjsG1532" transform="translate(1079,776.875)"><path id="SvgjsPath1533" d="M 0 0L 217.25 0L 217.25 29L 0 29Z" stroke="none" fill="none"></path><g id="SvgjsG1534"><foreignObject id="SvgjsForeignObject1535" width="217.25" height="19" x="0" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 217.25px; word-break: break-word; border: 0px;">[batch_size, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1536" transform="translate(983.5625,947.8125)"><path id="SvgjsPath1537" d="M 0 0L 106.875 0L 106.875 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1538"><foreignObject id="SvgjsForeignObject1539" width="86.875" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 86.875px; word-break: break-word; border: 0px;">intent_output</div></foreignObject></g></g><g id="SvgjsG1540" transform="translate(839.25,904.875)"><path id="SvgjsPath1541" d="M 0 0L 171.25 0L 171.25 32.375L 0 32.375Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1542"><foreignObject id="SvgjsForeignObject1543" width="151.25" height="32" x="10" style="overflow:visible;" y="0.1875"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 151.25px; word-break: break-word; border: 0px;">else:<div></div><div></div>       intent_output = d</div></foreignObject></g></g><g id="SvgjsG1544" transform="translate(1143.625,900.75)"><path id="SvgjsPath1545" d="M 0 0L 326.75 0L 326.75 40.625L 0 40.625Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1546"><foreignObject id="SvgjsForeignObject1547" width="306.75" height="32" x="10" style="overflow:visible;" y="4.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 306.75px; word-break: break-word; border: 0px;">if add_final_state_to_intent == True:<div>       intent_output = tf.concat([d, intent_input], 1)</div></div></foreignObject></g></g><g id="SvgjsG1548"><path id="SvgjsPath1549" d="M1089 90.5L1497.4375 90.5L1497.4375 957.8125L1090.4375 957.8125" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1550)"></path></g><g id="SvgjsG1552"><path id="SvgjsPath1553" d="M1037 967.8125L1037 1032.40625L1037 1032.40625L1037 1097" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1554)"></path></g><g id="SvgjsG1556" transform="translate(986,1097)"><path id="SvgjsPath1557" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1558"><foreignObject id="SvgjsForeignObject1559" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">intent_gate </div></foreignObject></g></g><g id="SvgjsG1560" transform="translate(986,1143.875)"><path id="SvgjsPath1561" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1562"><foreignObject id="SvgjsForeignObject1563" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">intent_gate </div></foreignObject></g></g><g id="SvgjsG1564" transform="translate(1103.71875,1068)"><path id="SvgjsPath1565" d="M 0 0L 337 0L 337 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1566"><foreignObject id="SvgjsForeignObject1567" width="317" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 317px; word-break: break-word; border: 0px;">rnn_cell_impl._linear(intent_output, attn_size, True)</div></foreignObject></g></g><g id="SvgjsG1568" transform="translate(1084.9375,1088)"><path id="SvgjsPath1569" d="M 0 0L 217.25 0L 217.25 29L 0 29Z" stroke="none" fill="none"></path><g id="SvgjsG1570"><foreignObject id="SvgjsForeignObject1571" width="217.25" height="19" x="0" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 217.25px; word-break: break-word; border: 0px;">[batch_size, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1572"><path id="SvgjsPath1573" d="M1037 1120.25L1037 1132.0625L1037 1132.0625L1037 1143.875" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1574)"></path></g><g id="SvgjsG1576" transform="translate(1103.71875,1120.25)"><path id="SvgjsPath1577" d="M 0 0L 410 0L 410 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1578"><foreignObject id="SvgjsForeignObject1579" width="390" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 390px; word-break: break-word; border: 0px;">tf.reshape(intent_gate, [-1, 1, intent_gate.get_shape()[1].value])</div></foreignObject></g></g><g id="SvgjsG1580" transform="translate(1094,1138.125)"><path id="SvgjsPath1581" d="M 0 0L 217.25 0L 217.25 29L 0 29Z" stroke="none" fill="none"></path><g id="SvgjsG1582"><foreignObject id="SvgjsForeignObject1583" width="217.25" height="19" x="0" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 217.25px; word-break: break-word; border: 0px;">[batch_size, 1, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1584" transform="translate(900.5625,1290.625)"><path id="SvgjsPath1585" d="M 0 0L 284.875 0L 284.875 21.625L 0 21.625Z" stroke="#323232" stroke-width="2" fill="#cce5ff"></path><g id="SvgjsG1586"><foreignObject id="SvgjsForeignObject1587" width="264.875" height="16" x="10" style="overflow:visible;" y="2.8125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 264.875px; word-break: break-word; border: 0px;">v1 = tf.get_variable("gateV", [attn_size])</div></foreignObject></g></g><g id="SvgjsG1588" transform="translate(1216.25,1231.75)"><path id="SvgjsPath1589" d="M 0 0L 326.75 0L 326.75 40.625L 0 40.625Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1590"><foreignObject id="SvgjsForeignObject1591" width="306.75" height="32" x="10" style="overflow:visible;" y="4.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 306.75px; word-break: break-word; border: 0px;">if remove_slot_attn == False:<div></div><div></div>    slot_gate = v1 * tf.tanh(slot_d + intent_gate)<div></div></div></foreignObject></g></g><g id="SvgjsG1592" transform="translate(1216.25,1280.125)"><path id="SvgjsPath1593" d="M 0 0L 364 0L 364 45.625L 0 45.625Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1594"><foreignObject id="SvgjsForeignObject1595" width="344" height="32" x="10" style="overflow:visible;" y="6.8125"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 344px; word-break: break-word; border: 0px;">else:<div></div><div></div>    slot_gate = v1 * tf.tanh(state_outputs + intent_gate)</div></foreignObject></g></g><g id="SvgjsG1596" transform="translate(1035.75,969)"><path id="SvgjsPath1597" d="M 0 0L 217.25 0L 217.25 29L 0 29Z" stroke="none" fill="none"></path><g id="SvgjsG1598"><foreignObject id="SvgjsForeignObject1599" width="217.25" height="19" x="0" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 217.25px; word-break: break-word; border: 0px;">[batch_size, 6*layer_size]</div></foreignObject></g></g><g id="SvgjsG1600"><path id="SvgjsPath1601" d="M1037 800.125L1037 821.25L1037 821.25L1037 842.375" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1602)"></path></g><g id="SvgjsG1604" transform="translate(884,842.375)"><path id="SvgjsPath1605" d="M 0 33L 153 0L 306 33L 153 66L 0 33Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1606"><foreignObject id="SvgjsForeignObject1607" width="286" height="16" x="10" style="overflow:visible;" y="25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 286px; word-break: break-word; border: 0px;">if add_final_state_to_intent == True</div></foreignObject></g></g><g id="SvgjsG1608"><path id="SvgjsPath1609" d="M1037 908.375L1037 928.09375L1037 928.09375L1037 947.8125" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1610)"></path><foreignObject id="SvgjsForeignObject1612" width="21" height="16" x="1026.5" y="920.09375"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">Yes</div></foreignObject></g><g id="SvgjsG1613" transform="translate(862,949)"><path id="SvgjsPath1614" d="M 0 0L 106.875 0L 106.875 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1615"><foreignObject id="SvgjsForeignObject1616" width="86.875" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 86.875px; word-break: break-word; border: 0px;">intent_output</div></foreignObject></g></g><g id="SvgjsG1617"><path id="SvgjsPath1618" d="M884 875.375L830 875.375L830 959L862 959" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1619)"></path><foreignObject id="SvgjsForeignObject1621" width="19" height="16" x="820.5" y="898.1875"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">No</div></foreignObject></g><g id="SvgjsG1622" transform="translate(708.25,973.25)"><path id="SvgjsPath1623" d="M 0 0L 217.25 0L 217.25 29L 0 29Z" stroke="none" fill="none"></path><g id="SvgjsG1624"><foreignObject id="SvgjsForeignObject1625" width="217.25" height="19" x="0" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 217.25px; word-break: break-word; border: 0px;">[batch_size, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1626"><path id="SvgjsPath1627" d="M915.4375 969L915.4375 1052L1037 1052L1037 1097" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1628)"></path></g><g id="SvgjsG1630"><path id="SvgjsPath1631" d="M1037 1167.125L1037 1184.5625L1037 1184.5625L1037 1202" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1632)"></path></g><g id="SvgjsG1634" transform="translate(925.5,1202)"><path id="SvgjsPath1635" d="M 0 34L 111.5 0L 223 34L 111.5 68L 0 34Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1636"><foreignObject id="SvgjsForeignObject1637" width="203" height="16" x="10" style="overflow:visible;" y="26"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 203px; word-break: break-word; border: 0px;">if remove_slot_attn == False</div></foreignObject></g></g><g id="SvgjsG1638" transform="translate(1063.25,1389.125)"><path id="SvgjsPath1639" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1640"><foreignObject id="SvgjsForeignObject1641" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">slot_gate </div></foreignObject></g></g><g id="SvgjsG1642" transform="translate(920,1389.125)"><path id="SvgjsPath1643" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1644"><foreignObject id="SvgjsForeignObject1645" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">slot_gate </div></foreignObject></g></g><g id="SvgjsG1646"><path id="SvgjsPath1647" d="M55 492.25L25 492.25L25 1400.75L920 1400.75" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1648)"></path></g><g id="SvgjsG1650"><path id="SvgjsPath1651" d="M925.5 1236L886.5 1236L886.5 1359.125L971 1359.125L971 1389.125" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1652)"></path><foreignObject id="SvgjsForeignObject1654" width="19" height="16" x="877" y="1327.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">No</div></foreignObject></g><g id="SvgjsG1655"><path id="SvgjsPath1656" d="M1148.5 1236L1196.5 1236L1196.5 1359.125L1114.25 1359.125L1114.25 1389.125" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1657)"></path><foreignObject id="SvgjsForeignObject1659" width="21" height="16" x="1186" y="1321.6875"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">Yes</div></foreignObject></g><g id="SvgjsG1660"><path id="SvgjsPath1661" d="M1043 1312.25L1043 1400.75L1022 1400.75" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1662)"></path></g><g id="SvgjsG1664"><path id="SvgjsPath1665" d="M1043 1312.25L1043 1400.75L1063.25 1400.75" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1666)"></path></g><g id="SvgjsG1668" transform="translate(1160.5,1372)"><path id="SvgjsPath1669" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1670"><foreignObject id="SvgjsForeignObject1671" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1672" transform="translate(1102,1433)"><path id="SvgjsPath1673" d="M 0 0L 196 0L 196 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1674"><foreignObject id="SvgjsForeignObject1675" width="176" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 176px; word-break: break-word; border: 0px;">tf.reduce_sum(slot_gate, [2])</div></foreignObject></g></g><g id="SvgjsG1676" transform="translate(992,1461.25)"><path id="SvgjsPath1677" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1678"><foreignObject id="SvgjsForeignObject1679" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">slot_gate </div></foreignObject></g></g><g id="SvgjsG1680" transform="translate(992,1518.875)"><path id="SvgjsPath1681" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1682"><foreignObject id="SvgjsForeignObject1683" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">slot_gate </div></foreignObject></g></g><g id="SvgjsG1684"><path id="SvgjsPath1685" d="M971 1412.375L971 1424.8125L1043 1424.8125L1043 1461.25" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1686)"></path></g><g id="SvgjsG1688"><path id="SvgjsPath1689" d="M1114.25 1412.375L1114.25 1424.8125L1043 1424.8125L1043 1461.25" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1690)"></path></g><g id="SvgjsG1692" transform="translate(1084.9375,1458.375)"><path id="SvgjsPath1693" d="M 0 0L 238 0L 238 29L 0 29Z" stroke="none" fill="none"></path><g id="SvgjsG1694"><foreignObject id="SvgjsForeignObject1695" width="238" height="19" x="0" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 238px; word-break: break-word; border: 0px;">[batch_size, sequnce_length]</div></foreignObject></g></g><g id="SvgjsG1696" transform="translate(1102,1491)"><path id="SvgjsPath1697" d="M 0 0L 203.875 0L 203.875 25L 0 25Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1698"><foreignObject id="SvgjsForeignObject1699" width="183.875" height="16" x="10" style="overflow:visible;" y="4.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 183.875px; word-break: break-word; border: 0px;">tf.expand_dims(slot_gate, -1)</div></foreignObject></g></g><g id="SvgjsG1700" transform="translate(1094,1516)"><path id="SvgjsPath1701" d="M 0 0L 238 0L 238 29L 0 29Z" stroke="none" fill="none"></path><g id="SvgjsG1702"><foreignObject id="SvgjsForeignObject1703" width="238" height="19" x="0" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 238px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 1]</div></foreignObject></g></g><g id="SvgjsG1704"><path id="SvgjsPath1705" d="M1043 1484.5L1043 1501.6875L1043 1501.6875L1043 1518.875" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1706)"></path></g><g id="SvgjsG1708" transform="translate(1231.25,1560.5)"><path id="SvgjsPath1709" d="M 0 0L 228.75 0L 228.75 31.25L 0 31.25Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1710"><foreignObject id="SvgjsForeignObject1711" width="208.75" height="32" x="10" style="overflow:visible;" y="-0.375"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 208.75px; word-break: break-word; border: 0px;">if remove_slot_attn == False:<div></div><div></div>     slot_gate = slot_d * slot_gate<div></div></div></foreignObject></g></g><g id="SvgjsG1712" transform="translate(1231.25,1606.125)"><path id="SvgjsPath1713" d="M 0 0L 265.75 0L 265.75 43.125L 0 43.125Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1714"><foreignObject id="SvgjsForeignObject1715" width="245.75" height="32" x="10" style="overflow:visible;" y="5.5625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: left; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 245.75px; word-break: break-word; border: 0px;">else:<div></div><div></div>    slot_gate = state_outputs * slot_gate</div></foreignObject></g></g><g id="SvgjsG1716" transform="translate(931.5,1578.4375)"><path id="SvgjsPath1717" d="M 0 34L 111.5 0L 223 34L 111.5 68L 0 34Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1718"><foreignObject id="SvgjsForeignObject1719" width="203" height="16" x="10" style="overflow:visible;" y="26"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 203px; word-break: break-word; border: 0px;">if remove_slot_attn == False</div></foreignObject></g></g><g id="SvgjsG1720"><path id="SvgjsPath1721" d="M1043 1542.125L1043 1560.28125L1043 1560.28125L1043 1578.4375" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1722)"></path></g><g id="SvgjsG1724"><path id="SvgjsPath1725" d="M160.5 1653.75L160.5 1787.75L1596.25 1787.75L1596.25 1400.75L1165.25 1400.75" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1726)"></path></g><g id="SvgjsG1728" transform="translate(1058.5,1674.875)"><path id="SvgjsPath1729" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1730"><foreignObject id="SvgjsForeignObject1731" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">slot_gate </div></foreignObject></g></g><g id="SvgjsG1732" transform="translate(929,1674.875)"><path id="SvgjsPath1733" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1734"><foreignObject id="SvgjsForeignObject1735" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">slot_gate </div></foreignObject></g></g><g id="SvgjsG1736"><path id="SvgjsPath1737" d="M1154.5 1612.4375L1207.5 1612.4375L1207.5 1686.5L1160.5 1686.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1738)"></path><foreignObject id="SvgjsForeignObject1740" width="21" height="16" x="1197" y="1638.46875"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">Yes</div></foreignObject></g><g id="SvgjsG1741"><path id="SvgjsPath1742" d="M931.5 1612.4375L888 1612.4375L888 1686.5L929 1686.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1743)"></path><foreignObject id="SvgjsForeignObject1745" width="19" height="16" x="878.5" y="1640.21875"><div xmlns="http://www.w3.org/1999/xhtml" style="vertical-align: top; text-align: center; color: rgb(50, 50, 50); line-height: 16px; font-size: 13px; font-family: 微软雅黑; white-space: nowrap; display: inline-block; background: rgb(255, 255, 255);">No</div></foreignObject></g><g id="SvgjsG1746"><path id="SvgjsPath1747" d="M160.5 1653.75L160.5 1789.3125L1597.5 1789.3125L1597.5 1686.5L1160.5 1686.5" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1748)"></path></g><g id="SvgjsG1750"><path id="SvgjsPath1751" d="M55 492.25L25 492.25L25 1686.5L929 1686.5" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1752)"></path></g><g id="SvgjsG1754" transform="translate(879.25,1644.25)"><path id="SvgjsPath1755" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1756"><foreignObject id="SvgjsForeignObject1757" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size, sequnce_length, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1758" transform="translate(1107.875,1720)"><path id="SvgjsPath1759" d="M 0 0L 240.125 0L 240.125 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1760"><foreignObject id="SvgjsForeignObject1761" width="220.125" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 220.125px; word-break: break-word; border: 0px;">tf.reshape(slot_gate, [-1, attn_size])</div></foreignObject></g></g><g id="SvgjsG1762" transform="translate(996.75,1745.875)"><path id="SvgjsPath1763" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1764"><foreignObject id="SvgjsForeignObject1765" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">slot_gate </div></foreignObject></g></g><g id="SvgjsG1766"><path id="SvgjsPath1767" d="M1109.5 1698.125L1109.5 1711L1047.75 1711L1047.75 1745.875" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1768)"></path></g><g id="SvgjsG1770"><path id="SvgjsPath1771" d="M980 1698.125L980 1711L1047.75 1711L1047.75 1745.875" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1772)"></path></g><g id="SvgjsG1774" transform="translate(1094,1746.75)"><path id="SvgjsPath1775" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1776"><foreignObject id="SvgjsForeignObject1777" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size * sequnce_length, 2*layer_size]</div></foreignObject></g></g><g id="SvgjsG1778" transform="translate(996.75,1817.875)"><path id="SvgjsPath1779" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ffcccc"></path><g id="SvgjsG1780"><foreignObject id="SvgjsForeignObject1781" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">slot_output </div></foreignObject></g></g><g id="SvgjsG1782"><path id="SvgjsPath1783" d="M1047.75 1769.125L1047.75 1793.5L1047.75 1793.5L1047.75 1817.875" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1784)"></path></g><g id="SvgjsG1786" transform="translate(1107.875,1794.875)"><path id="SvgjsPath1787" d="M 0 0L 240.125 0L 240.125 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1788"><foreignObject id="SvgjsForeignObject1789" width="220.125" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 220.125px; word-break: break-word; border: 0px;">tf.concat([slot_gate, slot_inputs], 1) <div></div></div></foreignObject></g></g><g id="SvgjsG1790"><path id="SvgjsPath1791" d="M110.5 1155.5L62.5 1155.5L62.5 1829.5L996.75 1829.5" stroke-dasharray="8,5" stroke="#0000ff" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1792)"></path></g><g id="SvgjsG1794" transform="translate(1094,1818.75)"><path id="SvgjsPath1795" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1796"><foreignObject id="SvgjsForeignObject1797" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size * sequnce_length, 4*layer_size]</div></foreignObject></g></g><g id="SvgjsG1798" transform="translate(996.75,1925.875)"><path id="SvgjsPath1799" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ff0000"></path><g id="SvgjsG1800"><foreignObject id="SvgjsForeignObject1801" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">slot</div></foreignObject></g></g><g id="SvgjsG1802" transform="translate(1103.71875,1887)"><path id="SvgjsPath1803" d="M 0 0L 317.5625 0L 317.5625 26L 0 26Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1804"><foreignObject id="SvgjsForeignObject1805" width="297.5625" height="16" x="10" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 297.563px; word-break: break-word; border: 0px;">rnn_cell_impl._linear(slot_output, slot_size, True)</div></foreignObject></g></g><g id="SvgjsG1806"><path id="SvgjsPath1807" d="M1047.75 1841.125L1047.75 1883.5L1047.75 1883.5L1047.75 1925.875" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1808)"></path></g><g id="SvgjsG1810" transform="translate(1079,1926.75)"><path id="SvgjsPath1811" d="M 0 0L 337 0L 337 21.5L 0 21.5Z" stroke="none" fill="none"></path><g id="SvgjsG1812"><foreignObject id="SvgjsForeignObject1813" width="337" height="19" x="0" style="overflow:visible;" y="1.25"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 337px; word-break: break-word; border: 0px;">[batch_size * sequnce_length, slot_size]</div></foreignObject></g></g><g id="SvgjsG1814" transform="translate(1431,1008.75)"><path id="SvgjsPath1815" d="M 0 0L 102 0L 102 23.25L 0 23.25Z" stroke="#323232" stroke-width="2" fill="#ff0000"></path><g id="SvgjsG1816"><foreignObject id="SvgjsForeignObject1817" width="82" height="16" x="10" style="overflow:visible;" y="3.625"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 82px; word-break: break-word; border: 0px;">intent</div></foreignObject></g></g><g id="SvgjsG1818"><path id="SvgjsPath1819" d="M1037 1097L1037 1020.375L1431 1020.375" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1820)"></path></g><g id="SvgjsG1822" transform="translate(1265.71875,982.25)"><path id="SvgjsPath1823" d="M 0 0L 358.28125 0L 358.28125 20L 0 20Z" stroke="#323232" stroke-width="2" fill="#66ffff"></path><g id="SvgjsG1824"><foreignObject id="SvgjsForeignObject1825" width="338.28125" height="16" x="10" style="overflow:visible;" y="2"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); line-height: 16px; width: 338.281px; word-break: break-word; border: 0px;">rnn_cell_impl._linear(intent_output, intent_size, True)</div></foreignObject></g></g><g id="SvgjsG1826" transform="translate(1440.71875,1032)"><path id="SvgjsPath1827" d="M 0 0L 217.25 0L 217.25 29L 0 29Z" stroke="none" fill="none"></path><g id="SvgjsG1828"><foreignObject id="SvgjsForeignObject1829" width="217.25" height="19" x="0" style="overflow:visible;" y="5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 15px; vertical-align: middle; color: rgb(0, 204, 102); line-height: 19px; width: 217.25px; word-break: break-word; border: 0px;">[batch_size, intent_size]</div></foreignObject></g></g></svg>